syntax = "proto3";

package policies;
option go_package = "policies/pb";

service PolicyService {
  rpc RetrievePolicyData(PolicyByIDReq) returns (PolicyDataRes) {}
  rpc RetrievePolicyDataByGroups(PolicyByGroupsReq) returns (PolicyDataListRes) {}
}

message PolicyByIDReq {
  string policyID = 1;
  string ownerID = 2;
}

message PolicyByGroupsReq {
  repeated string groupIDs = 1;
}

message PolicyDataRes {
  string id = 1;
  string name = 2;
  string backend = 3;
  int32 version = 4;
  bytes data = 5;
}

message PolicyDataListRes {
  repeated PolicyDataRes policies = 1;
}